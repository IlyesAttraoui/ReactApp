{"ast":null,"code":"var _jsxFileName = \"C:\\\\ReactApp\\\\src\\\\component\\\\Patient.js\";\nimport React, { Component } from 'react';\nimport './patienteee.css';\nimport axios from 'axios';\nimport Table from 'react-bootstrap/Table';\nimport { Link, Redirect } from \"react-router-dom\";\nimport Navbar from './Navbar';\nimport Swal from 'sweetalert2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nclass Patient extends Component {\n  constructor(props) {\n    super(props);\n\n    this.handelDelet = patientId => {\n      Swal.fire({\n        title: 'Are you sure?',\n        text: \"You won't be able to revert this!\",\n        icon: 'warning',\n        showCancelButton: true,\n        confirmButtonColor: '#3085d6',\n        cancelButtonColor: '#d33',\n        confirmButtonText: 'Yes, delete it!'\n      }).then(result => {\n        if (result.isConfirmed) {\n          this.deletpatient(patientId);\n        }\n      });\n    };\n\n    this.deletpatient = patientId => {\n      axios.delete(\"http://127.0.0.1:8000/patients/\" + patientId + \"/\").then(response => {\n        this.setState({\n          sup: true\n        });\n      });\n    };\n\n    this.deletCon = conId => {\n      if (localStorage.getItem(\"y\") === \"doctor\") {\n        Swal.fire({\n          title: 'Are you sure?',\n          text: \"You won't be able to revert this!\",\n          icon: 'warning',\n          showCancelButton: true,\n          confirmButtonColor: '#3085d6',\n          cancelButtonColor: '#d33',\n          confirmButtonText: 'Yes, delete it!'\n        }).then(result => {\n          if (result.isConfirmed) {\n            this.deletcon(conId);\n          }\n        });\n      } else {\n        alert(\"You are not authorized\");\n      }\n    };\n\n    this.deletcon = conId => {\n      axios.delete(\"http://127.0.0.1:8000/consultations/\" + conId + \"/\").then(response => {\n        if (response.data = !null) {\n          this.setState({\n            consul: this.state.consul.filter(consul => consul.id !== conId)\n          });\n        }\n      });\n    };\n\n    this.componentDidMount = () => {\n      axios.get(\"http://127.0.0.1:8000/patients/\" + this.props.match.params.id + \"/\").then(response => {\n        this.setState({\n          consul: response.data.consultations,\n          posts: response.data\n        });\n      });\n    };\n\n    const x = localStorage.getItem(\"x\");\n    let loggedIn = true;\n\n    if (x == null) {\n      loggedIn = false;\n    }\n\n    this.state = {\n      posts: [],\n      consul: [],\n      consule: [],\n      pres: [],\n      sup: false,\n      loggedIn\n    };\n  }\n\n  render() {\n    const {\n      posts,\n      consul,\n      pres,\n      show\n    } = this.state;\n\n    if (this.state.loggedIn === false) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 11\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 1\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cons\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"left-sid\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"hederConsul\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \" Consultations\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 123,\n              columnNumber: 10\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: '/Pres/' + posts.id,\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"addCons\",\n                children: \"Add\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 41\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 10\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            ClassName: \"hrpatient\",\n            children: /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 128,\n              columnNumber: 2\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 2\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: consul.map(consul => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cns\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"head\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"cnsDate\",\n                  children: consul.date\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"icondeletApp\",\n                  children: /*#__PURE__*/_jsxDEV(\"i\", {\n                    class: \"fas fa-trash-alt\",\n                    onClick: this.deletCon.bind(this, consul.id)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 139,\n                    columnNumber: 34\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 4\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 1\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 6\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: consul.type\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 1\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"description\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 6\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: consul.description\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 26\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 1\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"outcome\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 6\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: consul.outcome\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 144,\n                  columnNumber: 22\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 1\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                  children: \"prescription\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 6\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"prescr\",\n                  children: /*#__PURE__*/_jsxDEV(Table, {\n                    bordered: true,\n                    children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                      children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"drug\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 150,\n                          columnNumber: 3\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"quantity\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 151,\n                          columnNumber: 3\n                        }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                          children: \"no of times a day\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 152,\n                          columnNumber: 3\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 148,\n                        columnNumber: 1\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 147,\n                      columnNumber: 1\n                    }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                      children: consul.prescription_fields.map(prescription_fields => /*#__PURE__*/_jsxDEV(\"tr\", {\n                        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"col22\",\n                          children: prescription_fields.drug.scientific_name\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 159,\n                          columnNumber: 1\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"col22\",\n                          children: prescription_fields.quantity\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 160,\n                          columnNumber: 3\n                        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                          className: \"col22\",\n                          children: prescription_fields.times_per_day\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 161,\n                          columnNumber: 5\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 157,\n                        columnNumber: 1\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 155,\n                      columnNumber: 1\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 1\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 1\n              }, this)]\n            }, consul.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 137,\n              columnNumber: 1\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 120,\n          columnNumber: 4\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"patientinfoo\",\n          children: /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"patient\",\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: '/EditForm/' + posts.id,\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"editCons\",\n                children: \"Edit\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 38\n              }, this), \" \"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 3\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"editCons\",\n              onClick: this.handelDelet.bind(this, posts.id),\n              children: \"Edit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 2\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n                className: \"imagePatient\",\n                src: posts.photo\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 191,\n                columnNumber: 12\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 7\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"listinfo\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"name\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\"  \", posts.name, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 194,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Birthdate\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [posts.birthdate, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"phone\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 197,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [posts.phone, \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 198,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"wilaya\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 7\n              }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                children: [\" \", posts.wilaya]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 7\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 192,\n              columnNumber: 7\n            }, this)]\n          }, posts.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 3\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 1\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 118,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 1\n    }, this);\n  }\n\n}\n\nexport default Patient;","map":{"version":3,"sources":["C:/ReactApp/src/component/Patient.js"],"names":["React","Component","axios","Table","Link","Redirect","Navbar","Swal","Patient","constructor","props","handelDelet","patientId","fire","title","text","icon","showCancelButton","confirmButtonColor","cancelButtonColor","confirmButtonText","then","result","isConfirmed","deletpatient","delete","response","setState","sup","deletCon","conId","localStorage","getItem","deletcon","alert","data","consul","state","filter","id","componentDidMount","get","match","params","consultations","posts","x","loggedIn","consule","pres","render","show","map","date","bind","type","description","outcome","prescription_fields","drug","scientific_name","quantity","times_per_day","photo","name","birthdate","phone","wilaya"],"mappings":"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","sourcesContent":["import React , {Component} from 'react'\r\nimport './patienteee.css'\r\nimport axios from 'axios';\r\nimport Table from 'react-bootstrap/Table'\r\nimport {Link,Redirect} from \"react-router-dom\"\r\nimport Navbar from './Navbar'\r\nimport Swal from'sweetalert2';\r\n\r\nclass Patient extends Component {\r\n  constructor(props){\r\n    super(props)\r\n  const x=  localStorage.getItem(\"x\")\r\n  let loggedIn=true\r\n  if (x== null){\r\nloggedIn=false\r\n  }\r\nthis.  state={\r\n     posts:[],\r\n     consul:[],\r\n     consule:[],\r\n     pres:[],\r\n     sup:false,\r\nloggedIn\r\n\r\n}}\r\n\r\n\r\n\r\n  handelDelet=(patientId)=>{\r\n  Swal.fire({\r\n  title: 'Are you sure?',\r\n  text: \"You won't be able to revert this!\",\r\n  icon: 'warning',\r\n  showCancelButton: true,\r\n  confirmButtonColor: '#3085d6',\r\n  cancelButtonColor: '#d33',\r\n  confirmButtonText: 'Yes, delete it!'\r\n}).then((result) => {\r\n  if (result.isConfirmed) {\r\n  this.deletpatient(patientId)\r\n  }\r\n})\r\n}\r\n\r\n\r\n\r\n\r\n deletpatient=(patientId)=>{\r\n     axios.delete(\"http://127.0.0.1:8000/patients/\"+patientId+\"/\")\r\n     .then(response=>{\r\n       this.setState({sup:true})\r\n      })\r\n    }\r\n\r\n\r\n   deletCon=(conId)=>{\r\n     if(localStorage.getItem(\"y\")===\"doctor\"){\r\n   Swal.fire({\r\n   title: 'Are you sure?',\r\n   text: \"You won't be able to revert this!\",\r\n   icon: 'warning',\r\n   showCancelButton: true,\r\n   confirmButtonColor: '#3085d6',\r\n   cancelButtonColor: '#d33',\r\n   confirmButtonText: 'Yes, delete it!'\r\n   }).then((result) => {\r\n   if (result.isConfirmed) {\r\n   this.deletcon(conId)\r\n   }\r\n   })\r\n }\r\nelse{\r\n  alert(\"You are not authorized\")\r\n}}\r\n   deletcon=(conId)=>{\r\n       axios.delete(\"http://127.0.0.1:8000/consultations/\"+conId+\"/\")\r\n       .then(response=>{\r\n         if (response.data =! null){\r\n\r\n        this.setState({\r\n          consul:this.state.consul.filter(consul=>consul.id !== conId)\r\n        })\r\n      }\r\n    })\r\n   }\r\n\r\n\r\n     componentDidMount=()=>{\r\n\r\n       axios.get(\"http://127.0.0.1:8000/patients/\"+this.props.match.params.id+\"/\")\r\n       .then((response)=>{\r\n\r\n      this.setState({consul:response.data.consultations,\r\n      posts:response.data,\r\n\r\n    })\r\n\r\n\r\n         })\r\n\r\n\r\n\r\n       }\r\n\r\n\r\n\r\nrender(){\r\n\r\n  const {posts,consul,pres,show}= this.state\r\n\r\n  if(this.state.loggedIn=== false){\r\n  return  <Redirect to=\"/\"/>\r\n  }\r\n\r\nreturn(\r\n<div>\r\n<Navbar/>\r\n<div className='cons'>\r\n\r\n   <div className=\"left-sid\">\r\n\r\n      <div className=\"hederConsul\">\r\n         <h3> Consultations</h3>\r\n         <Link to ={'/Pres/'+posts.id}> <button className=\"addCons\">Add</button> </Link>\r\n\r\n       </div>\r\n <div  ClassName=\"hrpatient\" >\r\n <hr/>\r\n </div>\r\n\r\n\r\n\r\n      <div>\r\n\r\n{\r\nconsul.map(consul=>\r\n<div className='cns' key={consul.id}>\r\n<div className=\"head\"><div className=\"cnsDate\">{consul.date}</div>\r\n   <div className='icondeletApp'><i class=\"fas fa-trash-alt\"  onClick={this.deletCon.bind(this,consul.id)}></i>\r\n</div>\r\n</div>\r\n<div><h4>Type</h4><p>{consul.type}</p></div>\r\n<div><h4>description</h4><p>{consul.description}</p></div>\r\n<div><h4>outcome</h4><p>{consul.outcome}</p></div>\r\n<div><h4>prescription</h4><div className=\"prescr\">\r\n<Table  bordered>\r\n<thead>\r\n<tr>\r\n\r\n  <th>drug</th>\r\n  <th>quantity</th>\r\n  <th>no of times a day</th>\r\n</tr>\r\n</thead>\r\n<tbody>\r\n{consul.prescription_fields.map(prescription_fields=>\r\n<tr >\r\n\r\n<td className='col22'>{prescription_fields.drug.scientific_name}</td>\r\n  <td className='col22'>{prescription_fields.quantity}</td>\r\n    <td className='col22'>{prescription_fields.times_per_day}</td>\r\n\r\n\r\n</tr>\r\n\r\n\r\n\r\n  )}\r\n\r\n</tbody>\r\n</Table>\r\n</div></div>\r\n\r\n\r\n</div>  )}\r\n        </div>\r\n\r\n\r\n\r\n\r\n</div>\r\n\r\n<div className='patientinfoo'>\r\n\r\n\r\n{\r\n\r\n  <ul className=\"patient\"key={posts.id}>\r\n  <Link to ={'/EditForm/'+posts.id}> <button className=\"editCons\">Edit</button> </Link>\r\n <button className=\"editCons\" onClick={this.handelDelet.bind(this,posts.id)}>Edit</button>\r\n      <li> <img className=\"imagePatient\" src={posts.photo} /></li>\r\n      <div className='listinfo'>\r\n      <p>name</p>\r\n      <li >  {posts.name} </li>\r\n      <p>Birthdate</p>\r\n      <li >{posts.birthdate} </li>\r\n      <p>phone</p>\r\n      <li >{posts.phone} </li>\r\n      <p>wilaya</p>\r\n      <li> {posts.wilaya}</li>\r\n\r\n   </div>\r\n  </ul>\r\n}\r\n\r\n\r\n\r\n</div>\r\n\r\n\r\n</div>\r\n\r\n</div>\r\n\r\n)\r\n}}\r\nexport default Patient;\r\n"]},"metadata":{},"sourceType":"module"}